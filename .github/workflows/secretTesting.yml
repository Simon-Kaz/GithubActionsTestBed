on:
  push: {}
  
jobs:
  verifyCaseInsensitiveSecretLookup:
    name: Read secrets
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Check if secret exists, and make sure its case insensitive. Should return true for all cases
        run: |
          echo "${{ secrets.SECRET_KEY != 0 }}"
          echo "${{ secrets.SECRET_key != 0 }}"
          echo "${{ secrets.secret_key != 0 }}"
      - name: print secret mixed keys
        run: echo "${{ secrets.SECRET_key != 0 }}"
  verifyConditionalEnvVar:
    name: Set env var based on matrix value - ${{ matrix.platform }}
    runs-on: ubuntu-latest
    strategy:
      matrix:
        platform: [iOS, Android]
    steps:
      - uses: actions/checkout@v2
      - if: matrix.platform == 'Android'
        env:
          SECRET_KEY: ${{ secrets.SECRET_KEY_Android }}
      - if: matrix.platform == 'iOS'
        env:
          SECRET_KEY: ${{ secrets.SECRET_KEY_iOS }}
      - run: echo "${{ env.SECRET_KEY != 0 }}"
