on:
  push: {}
  
jobs:
  verifyConditionalEnvVar:
    name: Set env var based on matrix value - ${{ matrix.platform }}
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        platform: [iOS, Android]
        include:
          - platform: Android
            SECRET_KEY: ${{ secrets.SECRET_KEY_Android }}
          - platform: iOS
            SECRET_KEYasda: ${{ secrets.SECRET_KEY_iOS }}
    steps:
      - uses: actions/checkout@v2
      - run: echo "${{ matrix.SECRET_KEY != 0 }}"
  verifyCaseInsensitiveSecretLookup:
    name: Read secrets
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Check if secret exists, and make sure its case insensitive. Should return true for all cases
        run: |
          echo "${{ secrets.SECRET_KEY != 0 }}"
          echo "${{ secrets.SECRET_key != 0 }}"
          echo "${{ secrets.secret_key != 0 }}"
      - name: print secret mixed keys
        run: echo "${{ secrets.SECRET_key != 0 }}"
